> Passo a passo de como criar, publicar, e invocar uma API usando o <span style="color:#FF7043"><b>WSO2 API Manager.</b></span>

No cenário de exemplo, implementaremos um ciclo de vida completo de uma API utilizando o WSO2 API Manager:

![[Pasted image 20230421213409.png]]

1. Criando e publicando uma API pelo `Publisher Portal do WSO2 API-M`.
2. Deploy a API no `Gateway environment`.
3. Publicar a API no `Developer Portal`.
4. Inscrevendo-se na API via `Developer Portal` do WSO2 API-M e gerando chaves.
5. Invocando a API com as `chaves` geradas.

### <span style="color:#FF7043"><b>Passo 1 - Criando e publicando uma API</b></span>

1. Acesse o `Publisher Portal` <https://localhost:9443/publisher>
2. Entre com as credenciais `admin/admin`
3. Crie um serviço mock REST
- Vamos utilizar um serviço mock REST para criar uma API do zero

>[!todo]-	
>Pesquisar sobre mock

- Um serviço mock com uma resposta JSON ```{"hello" : "world"}``` é fornecida por padrão quando usando a URL <http://run.mocky.io/v2/5185415ba171ea3a00704eed>, que aparece no serviço mock <https://designer.mocky.io/>. Nesse guia vamos o protocolo HTTP ao invés do HTTPS.	

>[!tip] 
>Opcionalmente, para testar o serviço, copie a URL do mock e navegue pelo seu navegador.	

4. Selecione `REST Api` na tela inicial e então em <span style="color:#65B891"></span><span style="color:#FF7043">Start From Scratch</span>.
5. Adicione os detalhes da API.
|    Name    | Context | Version |                    Endpoint                     |
|:----------:|:-------:|:-------:|:-----------------------------------------------:|
| HelloWorld | /hello  |  1.0.0  | http://run.mocky.io/v2/5185415ba171ea3a00704eed |

>[!note]
Usamos o protocolo HTTP porque para usar o HTTPS precisamos importar o certificado de <https://designer.mocky.io/> no WSO2 API-M.

6. Clique em  <span style="color:#65B891"></span><span style="color:#FF7043">Create & Publish</span>.
> Isso vai publicar nossa primeira API no `Developer Portal` assim como deploy na `API Gateway`. Agora temos uma REST API com segurança OAuth 2.0 que está pronta para ser consumida.
